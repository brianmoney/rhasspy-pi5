services:
  mosquitto:
    image: eclipse-mosquitto:2
    restart: unless-stopped
    volumes:
      # bind-mount the WHOLE directory, not a single file
      - ./mosquitto/config:/mosquitto/config:ro
    ports: ["1883:1883"]
    networks: [rhasspy-net]

  rhasspy:
    image: rhasspy/rhasspy:2.5.11      # 2.5.12 tag does not exist
    platform: linux/arm64             # Pi 5
    restart: unless-stopped
    devices:
      - /dev/snd:/dev/snd
    volumes:
      - ./profiles:/profiles
      - /etc/localtime:/etc/localtime:ro
    command: --user-profiles /profiles --profile en
    networks: [rhasspy-net]

networks:
  rhasspy-net:










