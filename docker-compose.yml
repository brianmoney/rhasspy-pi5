version: "3.8"

services:
  mosquitto:
    image: eclipse-mosquitto:2
    restart: unless-stopped
    container_name: mosquitto
    volumes:
      - ./mosquitto/mosquitto.conf:/mosquitto/config/mosquitto.conf:ro
    ports:
      - "1883:1883"
    networks: [rhasspy-net]

  rhasspy:
    image: rhasspy/rhasspy:2.5.12
    container_name: rhasspy
    restart: unless-stopped
    networks: [rhasspy-net]
    volumes:
      - ~/rhasspy/profiles:/profiles
      - /dev/snd:/dev/snd       # give the container ALSA access
      - /etc/localtime:/etc/localtime:ro
    devices:
      - "/dev/snd:/dev/snd"
    command: >
      --profile en
      --user-profiles /profiles
      --microphone arecord
      --speaker aplay
networks:
  rhasspy-net:









