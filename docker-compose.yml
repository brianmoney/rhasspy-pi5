services:
  rhasspy:
    image: rhasspy/rhasspy
    restart: unless-stopped
    devices:
      - "/dev/snd:/dev/snd"
    environment:
      - PULSE_SERVER=unix:/run/user/1000/pulse/native
    volumes:
      - /run/user/1000/pulse:/run/user/1000/pulse
      - ~/.config/pulse:/home/rhasspy/.config/pulse
      - ./profiles:/profiles
    user: "1000:1000"
    tty: true
    ports:
      - "12101:12101"